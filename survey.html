<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/png" href="img/logoperpus2.png">
    <meta charset="utf-8">
    <title>Fasilitas</title>
    <link rel="stylesheet" type="text/css" href="css/style2.css">
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!-- <script async type="text/javascript" src="js/script.js"></script> -->
    <!-- <script type="text/javascript" src="js/bootstrap.js"></script> -->
</head>

<body>
    <div class="wrap">
        <div class="container">
            <div class="col-lg-1">
                <img class="logo" src="img/logoperpus2.png" height="50px" style="text-align:left">
            </div>

            <div class="col-lg-4">
                <h1 class="judul">UPT. PERPUSTAKAAN UNIVERSITAS LAMPUNG</h1>
            </div>

            <div class="visi">
                <div class="col-lg-7">
                    <p>Visi: Pusat Pengetahuan modern berbasis Teknologi Informasi (TI) yang menunjang Visi Unila</p>
                </div>
            </div>
        </div>

        <div class="keterangan">
            <p>Pilihlah satu emoji pada tiap pertanyaan.</p>
        </div>
        <!------------------------------- Daftar Pertanyaan SUS ------------------------------->
        <div class="container2">
            <form action="terimakasih.html" method="GET" autocomplete="on" id="">
                <fieldset>
                    <div class="legend">Saya merasa, <span id="obyeksurvey">Obyek Survey</span> di UPT. Perpustakaan Universitas Lampung, ....</div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(1). Akan menggunakan rutin</label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q1" value="100"><img class=" q-gambar img-responsive"
                                        src="img/sangatpuas.png" alt="sangat puas">

                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q1" value="75"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">

                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q1" value="25"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">

                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q1" value="0"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                    <div class="check">
                                        <div class="inside"></div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(6). Tidak konsisten</label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q6" value="0"><img class=" q-gambar img-responsive"
                                        src="img/sangatpuas.png" alt="sangat puas">
                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q6" value="25"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">
                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q6" value="75"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">
                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q6" value="100"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(2). Rumit dipahami </label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q2" value="0"><img class=" q-gambar img-responsive"
                                        src="img/sangatpuas.png" alt="sangat puas">
                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q2" value="25"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">
                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q2" value="75"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">
                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q2" value="100"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                </label>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(7). <em>User friendly</em></label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q7" value="100"><img class=" q-gambar img-responsive"
                                        src="img/sangatpuas.png" alt="sangat puas">
                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q7" value="75"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">
                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q7" value="25"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">
                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q7" value="0"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(3). Mudah digunakan</label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q3" value="100"><img class=" q-gambar img-responsive"
                                        src="img/sangatpuas.png" alt="sangat puas">
                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q3" value="75"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">
                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q3" value="25"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">
                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q3" value="0"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                </label>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(8). Membingungkan</label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q8" value="0"><img class=" q-gambar img-responsive"
                                        src="img/sangatpuas.png" alt="sangat puas">
                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q8" value="25"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">
                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q8" value="75"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">
                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q8" value="100"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(4). Membutuhkan bantuan</label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q4" value="0"><img class=" q-gambar img-responsive"
                                        src="img/sangatpuas.png" alt="sangat puas">
                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q4" value="25"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">
                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q4" value="75"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">
                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q4" value="100"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                </label>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(9). Percaya diri</label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q9" value="100"><img class=" q-gambar img-responsive"
                                        src="img/sangatpuas.png" alt="sangat puas">
                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q9" value="75"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">
                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q9" value="25"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">
                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q9" value="0"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(5). Berfungsi</label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q5" value="100"><img class=" q-gambar img-responsive"
                                        src="img/sangatpuas.png" alt="sangat puas">
                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q5" value="75"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">
                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q5" value="25"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">
                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q5" value="0"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                </label>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="pertanyaan">
                                <label for="q1" class="pertanyaan">(10). Perlu belajar</label>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-success ">
                                    <input type="radio" name="q10" value="0">
                                    <img class=" q-gambar img-responsive"                                      src="img/sangatpuas.png" alt="sangat puas">
                                </label>
                                <label class="btn btn-primary">
                                    <input type="radio" name="q10" value="25"><img class="q-gambar img-responsive"
                                        src="img/puas.png" alt="puas">
                                </label>
                                <label class="btn btn-warning">
                                    <input type="radio" name="q10" value="75"><img class=" q-gambar img-responsive"
                                        src="img/cukuppuas.png" alt="kurang puas">
                                </label>
                                <label class="btn btn-danger">
                                    <input type="radio" name="q10" value="100"><img class="q-gambar img-responsive"
                                        src="img/tidakpuas.png" alt="tidak puas">
                                </label>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="hiddenkategori" name="kategori" value="fasilitas" />
        </div>
        </fieldset>
        </form>
    </div>

    <!---------------------------- Daftar pertanyaan SUS selesai -------------------------->

    <!-- Footer -->
    <footer>
        <div class="container text-center">
            <div class="row">
                <div class="col-lg-5">
                    <a href="index.html"><button type="submit" class="btn btn-primary btn-lg">Kembali</button></a>
                </div>
                <div class="col-lg-6">
                    <button type="submit" id="btnKirimData" class="btn btn-primary btn-lg">Submit</button>
                </div>
            </div>
        </div>
    </footer>
    </div>
    <script>
        let obyeksurvey = document.querySelector("#obyeksurvey");
        let hiddenkategori = document.querySelector("#hiddenkategori");
        let btnQ = document.querySelectorAll("label.btn");

        // Memberikan tanda checked pada tombol yang ditekan
        btnQ.forEach(btnQa => btnQa.addEventListener("click", function () {
            btnQa.firstElementChild.setAttribute("checked", true);
        }));

        // GET parameter
        url = new URL(window.location.protocol + "//" + window.location.host + "/" + window.location.pathname + window.location.search);
        let searchParams = new URLSearchParams(url.search);
        let kategori = url.searchParams.get('kategori');

        // Menyematkan nilai kategori
        obyeksurvey.innerText = kategori;
        hiddenkategori.value = kategori;

        //Fungsi kirim data
        function fetchAPIPOST() {
            let inputkategori = kategori;
            let inputmesin = 1;
            let inputq1, inputq2, inputq3, inputq4, inputq5, inputq6, inputq7, inputq8, inputq9, inputq10 = 0;
            inputq1 = document.querySelector("[name='q1'][checked]") ? document.querySelector("[name='q1'][checked]").value : 50;
            inputq2 = document.querySelector("[name='q2'][checked]") ? document.querySelector("[name='q2'][checked]")
                .value : 50;
            inputq3 = document.querySelector("[name='q3'][checked]") ? document.querySelector("[name='q3'][checked]")
                .value : 50;
            inputq4 = document.querySelector("[name='q4'][checked]") ? document.querySelector("[name='q4'][checked]")
                .value : 50;
            inputq5 = document.querySelector("[name='q5'][checked]") ? document.querySelector("[name='q5'][checked]")
                .value : 50;
            inputq6 = document.querySelector("[name='q6'][checked]") ? document.querySelector("[name='q6'][checked]")
                .value : 50;
            inputq7 = document.querySelector("[name='q7'][checked]") ? document.querySelector("[name='q7'][checked]")
                .value : 50;
            inputq8 = document.querySelector("[name='q8'][checked]") ? document.querySelector("[name='q8'][checked]")
                .value : 50;
            inputq9 = document.querySelector("[name='q9'][checked]") ? document.querySelector("[name='q9'][checked]")
                .value : 50;
            inputq10 = document.querySelector("[name='q10'][checked]") ? document.querySelector("[name='q10'][checked]")
                .value : 50;

            let dataInput = "kategori=" + inputkategori + "&mesin=" + inputmesin + "&q1=" + inputq1 + "&q2=" + inputq2 + "&q3=" + inputq3 + "&q4=" + inputq4 + "&q5=" + inputq5 + "&q6=" + inputq6 + "&q7=" + inputq7 + "&q8=" + inputq8 + "&q9=" + inputq9 + "&q10=" + inputq10;

            url = 'api.php/pertanyaan';
            fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    },
                    body: dataInput
                })
                .then((resp) => resp.json())
                .then(function (data) {
                    tampilkanData(data);
                    // window.location.href= "./terimakasih.html";
                    document.getElementById("btnKirimData").click();
                })
                .catch(function (error) {
                    console.log(JSON.stringify(error));
                });
        }

        // Fungsi untuk menampilkan data
        function tampilkanData(dataRAW) {
            console.log("Status: " + dataRAW.status + "<br/>");
            console.log("ID data: " + dataRAW.id);
        }
        document.getElementById("btnKirimData").addEventListener("click", fetchAPIPOST);
    </script>
</body>

</html>